"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}define(["SwiftOtter_Test/js/renderer/slide/previous-button.babel","SwiftOtter_Test/js/ga.babel","SwiftOtter_Theme/js/field.babel","SwiftOtter_Test/js/api.babel","SwiftOtter_Test/js/token-management.babel"],function(s,t,e,i,r){function a(t){var e=this;t.querySelector(".test-question__complete").addEventListener("click",function(t){return function(t){var e=this,n=document.querySelector('.test-questions [data-question-id="'+this.data.id+'"]'),i=n.querySelectorAll("input:checked"),s=Array.prototype.reduce.call(i,function(t,e){return t[e.getAttribute("name")]=e.value,t},{}),a=n.querySelectorAll('textarea,input[type="text"');if(Array.prototype.forEach.call(a,function(t){s[t.getAttribute("name")]=t.value}),0!==Object.keys(s).length)return r.getToken().then(function(t){return e.api.survey(t.client_id,jsonConfig.id,s)});n.querySelector(".test-question__error").style.display="block"}.call(e,t)})}return function(){function n(t,e){_classCallCheck(this,n),this.config=t,this.data=e,this.api=new i({urls:{}})}return _createClass(n,[{key:"render",value:function(t,e,n){var i=function(t,e,n){var i='\n        <li class="test-question test-question--block test-question--'.concat(this.data.output_type,'" data-question-id="').concat(this.data.id,'">\n            <h2 class="test-question__title">').concat(this.data.question,'</h2>\n            <div class="test-question__subtext">').concat(this.data.subtext,'</div>\n            <div class="test-question__error" style="display: none">You must answer the questions.</div>\n            <div class="test-question__buttons">\n                <button class="test-question__complete test-question__cta-button info-button" data-question-id="').concat(this.data.id,'">Grade Test</button>\n                ').concat(s(this.data,t,e),"\n            </div>\n        </li>\n      ");return document.createRange().createContextualFragment(i)}.call(this,t,e,n);return this.el=i,a.call(this,i),i}}]),n}()});
//# sourceMappingURL=survey.babel.min.js.map
